# Use the official Go image as base
FROM golang:1.23 AS builder

# Install required tools: MinGW for Windows cross-compilation, Node.js & npm for frontend
RUN apt update && apt install -y \
    mingw-w64 \
    zip \
    git \
    curl \
    nodejs \
    npm \
    && rm -rf /var/lib/apt/lists/*

# Install Wails CLI
RUN go install github.com/wailsapp/wails/v2/cmd/wails@latest

# Add Go bin directory to PATH
ENV PATH="/go/bin:${PATH}"

# Set working directory inside the container
WORKDIR /app

